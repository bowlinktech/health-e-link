/** grace 05132014 05:41AM **/
INSERT INTO `universaltranslator`.`lu_ErrorCodes` (`displayText`, `description`) VALUES ('Invalid Set Up', 'File with same extension, delimiter should be set up either contain headers or do not contain headers.');

/** grace 05132014 04:23PM **/
INSERT INTO `universaltranslator`.`lu_ErrorCodes` (`displayText`) VALUES ('Invalid Delimiter');
UPDATE `universaltranslator`.`lu_ErrorCodes` SET `description`='Delimiter is valid for this type of file' WHERE `id`='15';

/** grace 05142014 11:47 AM **/
CREATE TABLE `universalTranslator`.`rel_TransportRhapsodyDetails` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `transportId` int(11) NOT NULL,
  `directory` varchar(255) DEFAULT NULL,
   PRIMARY KEY (`id`),
  KEY `rhaPransportId_idx` (`transportId`),
  CONSTRAINT `rhaPransportId_idx` FOREIGN KEY (`transportId`) REFERENCES `configurationtransportdetails` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;


INSERT INTO `universaltranslator`.`ref_transportMethods` (`id`,`transportMethod`, `active`) VALUES (5, 'Rhapsody', 1);

/* Chad 05152014 3:53 PM */
ALTER TABLE `universalTranslator`.`configurationTransportDetails` 
ADD COLUMN `CCDJarTemplate` VARCHAR(45) NULL DEFAULT NULL AFTER `fileExt`;

UPDATE `universalTranslator`.`ref_fileTypes` SET `fileType`='xml (CCD)' WHERE `id`='9';

/** grace 05152014 11:34PM **/
ALTER TABLE `universaltranslator`.`batchuploads` 
ADD COLUMN `originalFolder` VARCHAR(255) NULL AFTER `configId`;
INSERT INTO `universaltranslator`.`lu_ProcessStatus` (`id`,`category`, `displayCode`, `displayText`) VALUES (35, 'batch', 'FR', 'File Reset');

/** Chad 05162014 @ 10:42 PM **/
ALTER TABLE `universalTranslator`.`configurationTransportDetails` 
DROP COLUMN `CCDJarTemplate`;

ALTER TABLE `universalTranslator`.`organizations` 
ADD COLUMN `CCDJarTemplate` VARCHAR(45) NULL DEFAULT NULL AFTER `cleanURL`;

/** Grace 05192014 11:29AM **/
CREATE TABLE `universalTranslator`.`ref_encoding` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `encoding` varchar(45) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;


INSERT INTO `universaltranslator`.`ref_encoding` (`id`, `encoding`) VALUES ('1', 'None');
INSERT INTO `universaltranslator`.`ref_encoding` (`id`, `encoding`) VALUES ('2', 'Base64');

ALTER TABLE `universaltranslator`.`configurationTransportDetails` 
ADD COLUMN `encodingId` INT NULL DEFAULT 1 AFTER `fileExt`,
ADD INDEX `fkEncoding_idx` (`encodingId` ASC);
ALTER TABLE `universaltranslator`.`configurationTransportDetails` 
ADD CONSTRAINT `fkEncoding`
  FOREIGN KEY (`encodingId`)
  REFERENCES `universaltranslator`.`ref_encoding` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;


/** grace 05192014 02:49PM **/
ALTER TABLE `universaltranslator`.`rel_TransportRhapsodyDetails` 
ADD COLUMN `method` INT NULL COMMENT '1 = Push\n2 = Get' AFTER `directory`;

/** grace 05202104 0809AM **/
ALTER TABLE `universaltranslator`.`SFTPJobRunLog` 
RENAME TO  `universaltranslator`.`moveFilesLog` ;

ALTER TABLE `universaltranslator`.`moveFilesLog` 
ADD COLUMN `transportMethodId` INT NOT NULL AFTER `id`;

INSERT INTO `universaltranslator`.`lu_ErrorCodes` (`id`, `displayText`, `description`) VALUES ('16', 'Cannot Determine Encoding Type for File', 'Multiple encodings found for file');
UPDATE `universaltranslator`.`lu_ErrorCodes` SET `description`='Delimiter is invalid for this type of file' WHERE `id`='15';

/** 05202014 Grace 12:08PM **/
ALTER TABLE `universaltranslator`.`batchuploads` 
ADD COLUMN `encodingId` INT NULL COMMENT 'the encoding file came in' AFTER `originalFolder`;


/** 05212014 Grace 11:28 AM**/
ALTER TABLE `universaltranslator`.`macro_names` 
ADD COLUMN `CategoryId` INT NULL DEFAULT 1 COMMENT '1 - data manipulation\n2 - processing' AFTER `ID`;

ALTER TABLE `universaltranslator`.`macro_names` 
DROP COLUMN `Category`;

/** 05212014 Chad 3:47 PM **/
ALTER TABLE `universalTranslator`.`message_Encounters` 
DROP COLUMN `status`,
DROP COLUMN `encounterDate`,
CHANGE COLUMN `encounter` `ICD9Code` VARCHAR(45) NULL DEFAULT NULL ,
CHANGE COLUMN `performer` `description` VARCHAR(500) NULL DEFAULT NULL ;

