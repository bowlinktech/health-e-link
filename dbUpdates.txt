/** 02.11.2014 **/

drop procedure `universaltranslator`.`runMacro`;


/** 02122014 Grace **/

INSERT INTO `universalTranslator`.`lu_ErrorCodes` (`displayText`, `description`, `status`) 
VALUES ('System Error', 'System Error, could be from crosswalks or macros', 1);

DELIMITER $$
CREATE Procedure `universaltranslator`.`setInboundOutBoundTables`(in foroutboundProcessing boolean) 
proc_main:begin

-- this SP sets the inbound / outbound tables
set @translatedTable = "transactionTranslatedIn";
set @transactionTable = "transactionIn";
set @batchTable = "batchUploads";
set @batchIdType = "batchId";
set @errorTable = "transactionInErrors";

if (foroutboundProcessing) THEN
BEGIN -- true
		set @translatedTable = "transactionTranslatedOut";
		set @transactionTable = "transactionTarget";
		set @batchTable = "batchDowloads";
		set @batchIdType = "batchDLId";
		set @errorTable = "transactionOutErrors";
END; 
END IF;

end proc_main$$
DELIMITER ;

/** 02132014 Grace **/
ALTER TABLE `universalTranslator`.`Macro_Names` 
CHANGE COLUMN `Category` `Category` VARCHAR(50) CHARACTER SET 'utf8' NULL DEFAULT 'Stored Procedure' ;

delete from `Macro_Names`;
INSERT INTO `Macro_Names` VALUES (1,'Stored Procedure','MatchFieldAUpdateFieldB','IF SFA = CON1, TFB = CON2',1,NULL,'MatchFieldAUpdateFieldB','','Please enter field number for matching','Please enter field number to update','Please enter the constant to match','Please enter the constant for update');

