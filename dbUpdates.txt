ALTER TABLE `universalTranslator`.`organizations` 
ADD COLUMN `cleanURL` VARCHAR(255) NOT NULL AFTER `status`;


CREATE TABLE `universalTranslator`.`rel_userLogins` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `dateCreated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  INDEX `userId_idx` (`userId` ASC),
  CONSTRAINT `userId`
    FOREIGN KEY (`userId`)
    REFERENCES `universalTranslator`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


//10-15-2013 (Chad)
ALTER TABLE `universaltranslator`.`organizations` 
ADD COLUMN `cleanURL` VARCHAR(255) NOT NULL AFTER `status`;

ALTER TABLE `universalTranslator`.`providers` 
ADD COLUMN `dateCreated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP AFTER `status`;

//10-16-2013 (Chad)
ALTER TABLE `universalTranslator`.`brochures` 
ADD COLUMN `dateCreated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP AFTER `fileName`;

//10-17-2013 (Chad)
ALTER TABLE `universalTranslator`.`brochures` 
DROP FOREIGN KEY `brochureOrgId`;
ALTER TABLE `universalTranslator`.`brochures` 
ADD CONSTRAINT `brochureOrgId`
  FOREIGN KEY (`orgId`)
  REFERENCES `universalTranslator`.`organizations` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;

//10-24-2013 (Chad)
ALTER TABLE `universalTranslator`.`providers` 
CHANGE COLUMN `phone` `phone1` VARCHAR(20) NULL DEFAULT NULL ,
ADD COLUMN `phone2` VARCHAR(15) NULL DEFAULT NULL AFTER `dateCreated`,
ADD COLUMN `specialty` VARCHAR(100) NULL DEFAULT NULL AFTER `phone2`,
ADD COLUMN `gender` VARCHAR(45) NULL DEFAULT NULL AFTER `specialty`,
ADD COLUMN `url` VARCHAR(255) NULL DEFAULT NULL AFTER `gender`;


 CREATE TABLE `info_ProviderAddresses` (
  `id` int(11) NOT NULL,
  `providerId` int(11) NOT NULL,
  `type` varchar(45) DEFAULT NULL COMMENT 'is there a look up?',
  `line1` varchar(45) DEFAULT NULL,
  `line2` varchar(45) DEFAULT NULL,
  `city` varchar(45) DEFAULT NULL,
  `county` varchar(45) DEFAULT NULL,
  `postalCode` varchar(45) DEFAULT NULL,
  `state` varchar(2) DEFAULT NULL,
  `priority` varchar(45) DEFAULT NULL,
  `status` varchar(45) DEFAULT NULL,
  `phone1` varchar(45) DEFAULT NULL,
  `phone2` varchar(45) DEFAULT NULL,
  `fax` varchar(45) DEFAULT NULL,
  `dateCreated` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `dateModified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
  
ALTER TABLE `universalTranslator`.`info_ProviderAddresses` 
ADD INDEX `providerIdFK_idx` (`providerId` ASC);
ALTER TABLE `universalTranslator`.`info_ProviderAddresses` 
ADD CONSTRAINT `providerIdFK`
  FOREIGN KEY (`providerId`)
  REFERENCES `universalTranslator`.`providers` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
  
  //10-28-2013 (chad)
  CREATE TABLE `universaltranslator`.`info_providerids` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `providerId` INT NOT NULL,
  `idNum` VARCHAR(45) NOT NULL,
  `type` VARCHAR(45) NULL,
  `issuedBy` VARCHAR(255) NULL,
  `dateCreated` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `dateModified` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  INDEX `idproviderIdfk_idx` (`providerId` ASC),
  CONSTRAINT `idproviderIdfk`
    FOREIGN KEY (`providerId`)
    REFERENCES `universaltranslator`.`providers` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);

//10-29-2013 Chad
ALTER TABLE `universalTranslator`.`providers` 
DROP COLUMN `providerId`;

//10-30-2013 Chad
ALTER TABLE `universaltranslator`.`messagetypes` 
CHANGE COLUMN `status` `status` SMALLINT NOT NULL DEFAULT b'0' COMMENT '1 = Active\n0 = Inactive\n2 = Archived' ;

//10-31-2013 Chad
ALTER TABLE `universalTranslator`.`messageTypeFormFields` 
DROP FOREIGN KEY `refTableColId`,
DROP FOREIGN KEY `refTableId`;

ALTER TABLE `universalTranslator`.`messageTypeFormFields` 
CHANGE COLUMN `saveToTableName` `saveToTableName` INT(11) NULL ,
CHANGE COLUMN `saveToTableCol` `saveToTableCol` INT(11) NULL ;

ALTER TABLE `universalTranslator`.`messageTypeFormFields` 
DROP INDEX `refTableColId_idx` ,
DROP INDEX `refTableId_idx` ;

//11-1-2013 Chad
ALTER TABLE `universalTranslator`.`configurationFormFields` 
CHANGE COLUMN `saveToTableName` `saveToTableName` VARCHAR(255) NULL DEFAULT NULL ,
CHANGE COLUMN `saveToTableCol` `saveToTableCol` VARCHAR(255) NULL DEFAULT NULL ;
  




  
  
