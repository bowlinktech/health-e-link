/** Grace 03192014 01:24PM **/
ALTER TABLE `universaltranslator`.`transactioninerrors` 
DROP FOREIGN KEY `configFFFKId`;
ALTER TABLE `universaltranslator`.`transactioninerrors` 
CHANGE COLUMN `configurationFormFieldsId` `fieldNo` INT(11) NULL DEFAULT NULL ;


ALTER TABLE `universaltranslator`.`transactionouterrors` 
DROP FOREIGN KEY `configFFIdFK`;
ALTER TABLE `universaltranslator`.`transactionouterrors` 
CHANGE COLUMN `configurationFormFieldsId` `fieldNo` INT(11) NULL DEFAULT NULL ;


drop procedure insertValidationErrors;

DELIMITER $$
CREATE DEFINER=`root`@`localhost` PROCEDURE `insertValidationErrors`(in vtType int, in fieldNo int,
in batchUploadId int, in configId int)
BEGIN

DECLARE regEx varchar(100) DEFAULT '';

CASE vtType
	WHEN 2 THEN set regEx = '^[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$';
    WHEN 3 THEN 
		BEGIN 
			CALL `universalTranslator`.`stripPhoneChars`(vtType, fieldNo, batchUploadId, configId);
			set regEx ='^[0-9]{7,11}$';
		END;
	WHEN 5 THEN set regEx = '^-?[0-9]+[.]?[0-9]*$|^-?[.][0-9]+$';
    ELSE
        BEGIN
        END;
	END 
	CASE;
 
set @stmt = concat(
'insert into transactionInerrors (batchUploadId, transactionInId, fieldNo, errorid, 
validationTypeId) SELECT ', batchUploadId, ', transactionInId, ',fieldNo,',2, ', vtType,'  
 FROM transactionTranslatedIn WHERE F' ,fieldNo, ' not REGEXP  "', regEx, '" and F',fieldNo, ' is not null 
and length(F', fieldNO, ') != 0
and configId = ', configId, ' and transactionInId 
in (select id from transactionIn where batchId = ', batchUploadId,' and configId = ', configId,' and statusId != 12);');

PREPARE stmt from @stmt;
EXECUTE stmt;

 END$$
DELIMITER ;


drop procedure stripPhoneChars;

DELIMITER $$
CREATE DEFINER=`root`@`localhost` PROCEDURE `stripPhoneChars`(in vtType int, in fieldNo int,
in batchUploadId int, in configId int)
BEGIN
	DECLARE varToReplace varchar(100) DEFAULT '.';
	DECLARE part1 varchar(255) DEFAULT '.';
	DECLARE part2 varchar(25) DEFAULT '.';

	set part1 = concat("update transactiontranslatedIn JOIN (SELECT id from transactionIn WHERE configId = ",
	  configId,"  and batchId = ", batchUploadId, ") as ti ON transactiontranslatedIn.transactionInId = ti.id SET transactiontranslatedIn.F"
	  , fieldNo, " = replace(F", fieldNo, ", '");
	set part2 = "', '');";
	set @stmt = concat(part1, varToReplace, part2);
  	PREPARE stmt from @stmt;
	EXECUTE stmt;

	set varToReplace = '-';
	set @stmt = concat(part1, varToReplace, part2);
	PREPARE stmt from @stmt;
	EXECUTE stmt;

	set varToReplace = ')';
	set @stmt = concat(part1, varToReplace, part2);
	PREPARE stmt from @stmt;
	EXECUTE stmt;

	set varToReplace = '(';
	set @stmt = concat(part1, varToReplace, part2);
	PREPARE stmt from @stmt;
	EXECUTE stmt;

	set varToReplace = ' ';
	set @stmt = concat(part1, varToReplace, part2);
	PREPARE stmt from @stmt;
	EXECUTE stmt;

 END$$
DELIMITER ;

/** grace 03202014 01:06 PM **/
ALTER TABLE `universaltranslator`.`message_visitinfo` 
DROP COLUMN `incomeUnit`,
CHANGE COLUMN `income` `wklyIncome` FLOAT NULL DEFAULT NULL ,
ADD COLUMN `localFeeScale` VARCHAR(45) NULL AFTER `height`,
ADD COLUMN `residenceCode` VARCHAR(45) NULL AFTER `wklyIncome`;

CREATE TABLE `universaltranslator`.`message_races` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `transactionInId` INT NOT NULL,
  `sourceId` VARCHAR(45) NULL,
  `sourceDate` VARCHAR(45) NULL,
  `sourceDateType` VARCHAR(45) NULL,
  `white` BIT NULL,
  `black` BIT NULL,
  `am_indian_alaskan` BIT NULL,
  `asian` BIT NULL,
  `Hawaiian_pi` BIT NULL,
  `notReported` BIT NULL,
  `moreThanOneRace` BIT NULL,
  `dateCreated` DATETIME NOT NULL DEFAULT current_timestamp,
  PRIMARY KEY (`id`));

ALTER TABLE `universaltranslator`.`message_races` 
ADD INDEX `transactionInId_idx` (`transactionInId` ASC);
ALTER TABLE `universaltranslator`.`message_races` 
ADD CONSTRAINT `transactionInId`
  FOREIGN KEY (`transactionInId`)
  REFERENCES `universaltranslator`.`transactionin` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;

CREATE TABLE `universaltranslator`.`lu_providerTypes` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `displayText` VARCHAR(45) NOT NULL,
  `description` VARCHAR(200) NULL,
  `isCustom` BIT NOT NULL DEFAULT 0,
  `status` BIT NOT NULL DEFAULT 1,
  `dateCreated` DATETIME NOT NULL DEFAULT current_timestamp,
  PRIMARY KEY (`id`));

INSERT INTO `universaltranslator`.`lu_providerTypes` (`id`,`displayText`) VALUES (1,'Physician');
INSERT INTO `universaltranslator`.`lu_providerTypes` (`id`,`displayText`) VALUES (2,'NP/APRN/CNM/PA');
INSERT INTO `universaltranslator`.`lu_providerTypes` (`id`,`displayText`) VALUES (3,'RN/LPN');
INSERT INTO `universaltranslator`.`lu_providerTypes` (`id`,`displayText`) VALUES (4,'Counselor/CHE');

ALTER TABLE `universaltranslator`.`message_visitinfo` 
ADD COLUMN `providerTypeId` INT NULL AFTER `localFeeScale`;


ALTER TABLE `universaltranslator`.`message_visitinfo` 
DROP FOREIGN KEY `messContraFK`;
ALTER TABLE `universaltranslator`.`message_visitinfo` 
CHANGE COLUMN `contraceptiveId` `primaryContraceptiveId` INT(11) NULL DEFAULT NULL COMMENT 'id in lu_Contractives' ,
ADD COLUMN `secondContraceptiveId` INT NULL AFTER `primaryContraceptiveId`,
ADD COLUMN `noContraceptiveId` INT NULL AFTER `secondContraceptiveId`;
  
/** grace 03202014 03:27PM **/

CREATE TABLE `universaltranslator`.`lu_insuranceCoverage` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `displayText` VARCHAR(45) NOT NULL,
  `description` VARCHAR(200) NULL,
  `isCustom` BIT NOT NULL DEFAULT 0,
  `status` BIT NOT NULL DEFAULT 1,
  `dateCreated` DATETIME NOT NULL DEFAULT current_timestamp,
  PRIMARY KEY (`id`));

ALTER TABLE `universaltranslator`.`message_visitinfo` 
ADD COLUMN `insuranceCoverageId` INT NULL AFTER `providerTypeId`;

INSERT INTO `universaltranslator`.`lookuptables` (`utTableName`, `displayText`, `urlId`) VALUES ('lu_insuranceCoverage', 'Insurance Coverage Types', '23424Ins48329age');
INSERT INTO `universaltranslator`.`lookuptables` (`utTableName`, `displayText`, `urlId`) VALUES ('lu_providerTypes', 'Provider Types', '4200Pro1228pes');
INSERT INTO `universaltranslator`.`lu_insuranceCoverage` (`id`,`displayText`) VALUES (1,'Public Insurance');
INSERT INTO `universaltranslator`.`lu_insuranceCoverage` (`id`,`displayText`) VALUES (2,'Private Insurance');
INSERT INTO `universaltranslator`.`lu_insuranceCoverage` (`id`,`displayText`) VALUES (3,'Uninsured');
INSERT INTO `universaltranslator`.`lu_insuranceCoverage` (`id`,`displayText`) VALUES (4,'Unknown / Not Reported');

CREATE TABLE `message_localCodes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `transactionInId` int(11) NOT NULL,
  `sourceId` varchar(45) DEFAULT NULL,
  `sourceDate` varchar(45) DEFAULT NULL,
  `sourceDateType` varchar(45) DEFAULT NULL,
  `localCode` varchar(45) DEFAULT NULL,
  `dateCreated` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE `universaltranslator`.`message_localCodes` 
ADD INDEX `lcTInId_idx` (`transactionInId` ASC);
ALTER TABLE `universaltranslator`.`message_localCodes` 
ADD CONSTRAINT `lcTInId`
  FOREIGN KEY (`transactionInId`)
  REFERENCES `universaltranslator`.`transactionin` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
  
 ALTER TABLE `universaltranslator`.`message_visitinfo` 
ADD COLUMN `SiteId` INT NULL AFTER `transactionInId`;
  
INSERT INTO `universaltranslator`.`macro_names` (`ID`, `Category`, `Macro_Name`, `Macro_Short_Name`, `Formula`, `FieldA_Question`, `FieldB_Question`, `Con2_Question`) VALUES ('70', 'String manipulation', 'Set field to null', 'field=null', 'setFieldToNull', 'Please enter in field number to set null, leave blank if src', 'Please enter in field to match, if appicable', 'Please enter in value to match, if applicable');
  
DELIMITER $$
CREATE DEFINER=`root`@`localhost` PROCEDURE `setFieldToNull`(in configId int, 
in batchId int, in srcField varchar(10),
in fieldA varchar(10), in fieldB varchar(10), in con1 varchar(10), 
in con2 varchar(10), in macroId int, in foroutboundProcessing boolean, in passClear int)
proc_main:begin

-- this SP matches FieldA with Con1 and then updates fieldB with Con2
-- this sets out table
call setInboundOutBoundTables (foroutboundProcessing);
select @translatedTable, @transactionTable, @batchTable, @batchIdType , @errorTable
into @translatedTable, @transactionTable, @batchTable, @batchIdType , @errorTable;

call getFinalStatusIds;
select @finalStatusIds into @finalStatusIds;


-- build our sql
set @stmt = concat("update ",@translatedTable, " set ",fieldA," = null where ");

if (fieldB != 'F') then 
set @stmt = concat(@stmt, fieldB," = '",con2,"' and ");
end if;

set @stmt =concat(@stmt, @transactionTable,"Id in (select id from ",@transactionTable,
" where configId = ",configId," and ", @batchIdType," = ",batchId," and statusId not in (",@finalStatusIds ,"));");

PREPARE stmt from @stmt;
EXECUTE stmt;-- execute

-- we check pass /clear
if (passClear = 2) THEN
BEGIN

END;
END IF;

-- the only error for this is if SP bombs, no need to write in insert error logs
select '';
end proc_main$$
DELIMITER ;
  
CREATE TABLE `universaltranslator`.`lu_noContraceptiveReasons` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `displayText` VARCHAR(45) NOT NULL,
  `description` VARCHAR(200) NULL,
  `isCustom` BIT NOT NULL DEFAULT 0,
  `status` BIT NOT NULL DEFAULT 1,
  `dateCreated` DATETIME NOT NULL DEFAULT current_timestamp,
  PRIMARY KEY (`id`));
  
 INSERT INTO `universaltranslator`.`lookuptables` (`utTableName`, `displayText`, `urlId`) VALUES ('lu_noContraceptiveReasons', 'Reason for No Contraceptives', '3478Noc3823sons');
  
 INSERT INTO `universaltranslator`.`macro_names` (`id`,`Category`, `Macro_Name`, `Macro_Short_Name`, `Formula`, `Con1_Question`, `Con2_Question`) VALUES (71, 'String manipulation', 'Add character to specific locations on strings', 'addCharsToString', 'addCharsToString', 'Please enter char to add', 'Please enter position for character');
  
  
/** grace 03212014 12:13 PM **/
UPDATE `universaltranslator`.`lu_PayerTypes` SET `displayText`='Self-Pay - Full' WHERE `id`='1';
  
INSERT INTO `universaltranslator`.`lu_PayerTypes` (`id`,`displayText`) VALUES (11,'Self-Pay - Partial');
INSERT INTO `universaltranslator`.`lu_PayerTypes` (`id`,`displayText`) VALUES (12,'Medicaid');
INSERT INTO `universaltranslator`.`lu_PayerTypes` (`id`,`displayText`) VALUES (13,'Private Insurance');
INSERT INTO `universaltranslator`.`lu_PayerTypes` (`id`,`displayText`) VALUES (14,'No Charge / Title X');
INSERT INTO `universaltranslator`.`lu_PayerTypes` (`id`,`displayText`) VALUES (15, 'State Funding / DPH (MA Only)');
INSERT INTO `universaltranslator`.`lu_PayerTypes` (`id`,`displayText`) VALUES (16, 'Health Safety Net (MA Only)');
INSERT INTO `universaltranslator`.`lu_PayerTypes` (`id`,`displayText`) VALUES (17, 'Insurance Exchange');
  
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('1', 'Oral Contraceptive');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('2', 'IUD');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('4', 'Spermicide (Used Alone)');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('5', 'Male Condom');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('6', 'Contraceptive Sponge');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('7', 'Female Sterilization');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('8', 'Fertility Awareness');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('9', 'Hormonal injection - 3 month');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('10', 'Female Condom');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('11', 'Diaphragm / Cervical Cap');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('13', 'Hormonal Implant');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('14', 'Abstinence');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('15', 'Other Method');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('16', 'No Method');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('23', 'Vasectomy');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('24', 'Vaginal Ring');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('25', 'Hormonal Patch');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('27', 'Hormonal injection - 1 month');
INSERT INTO `universaltranslator`.`lu_contraceptives` (`id`, `displaytext`) VALUES ('28', 'Method Unknown');

INSERT INTO `universaltranslator`.`lu_noContraceptiveReasons` (`id`, `displaytext`) VALUES ('1', 'Pregnant');
INSERT INTO `universaltranslator`.`lu_noContraceptiveReasons` (`id`, `displaytext`) VALUES ('2', 'Seeking Pregnancy');
INSERT INTO `universaltranslator`.`lu_noContraceptiveReasons` (`id`, `displaytext`) VALUES ('3', 'Relying on Female Method');
INSERT INTO `universaltranslator`.`lu_noContraceptiveReasons` (`id`, `displaytext`) VALUES ('4', 'Other Reason');

/** grace 03212014 06:21PM **/
DELIMITER $$
CREATE DEFINER=`root`@`localhost` PROCEDURE `addCharToString`(in configId int, 
in batchId int, in srcField varchar(10),
in fieldA varchar(10), in fieldB varchar(10), in con1 varchar(10), 
in con2 varchar(10), in macroId int, in foroutboundProcessing boolean, in passClear int)
proc_main:begin

call setInboundOutBoundTables (foroutboundProcessing);
select @translatedTable, @transactionTable, @batchTable, @batchIdType , @errorTable
into @translatedTable, @transactionTable, @batchTable, @batchIdType , @errorTable;

call getFinalStatusIds;
select @finalStatusIds into @finalStatusIds;

-- we build sql here 
set @stmt = concat("update ", @translatedTable," set ",fieldA,
" = concat(substring(",fieldA,", 1,",con2,"-1), '",con1,"', substring(",fieldA,", ",con2,",(length(",fieldA,")))) where ", @transactionTable ,"Id in (select id from ",@transactionTable,
" where configId = ",configId," and ", @batchIdType," = ",batchId," and statusId not in (",@finalStatusIds,"));");

delete from formula;
insert into formula (formula) values (@stmt);
-- PREPARE stmt from @stmt;
-- EXECUTE stmt;-- execute

-- we check pass /clear
if (passClear = 2) THEN
BEGIN
-- not sure how to pass clear this
END;
END IF;
-- see if we want to return something
select '';

end proc_main$$
DELIMITER ;

UPDATE `universaltranslator`.`macro_names` SET `Macro_Short_Name`='addCharToString', `Formula`='addCharToString', `Con1_Question`='Please enter char to add to string', `Con2_Question`='Please enter character position.' WHERE `ID`='71';

/** grace 03212014 11:22PM **/
UPDATE `universaltranslator`.`lu_ErrorCodes` SET `description`='Source Configuration does not have valid connections set up' WHERE `id`='10';

drop procedure addCharToString;

DELIMITER $$
CREATE DEFINER=`root`@`localhost` PROCEDURE `addCharToString`(in configId int, 
in batchId int, in srcField varchar(10),
in fieldA varchar(10), in fieldB varchar(10), in con1 varchar(10), 
in con2 varchar(10), in macroId int, in foroutboundProcessing boolean, in passClear int)
proc_main:begin

call setInboundOutBoundTables (foroutboundProcessing);
select @translatedTable, @transactionTable, @batchTable, @batchIdType , @errorTable
into @translatedTable, @transactionTable, @batchTable, @batchIdType , @errorTable;

call getFinalStatusIds;
select @finalStatusIds into @finalStatusIds;

-- we build sql here 
set @stmt = concat("update ", @translatedTable," set ",fieldA,
" = concat(substring(",fieldA,", 1,",con2,"-1), '",con1,"', substring(",fieldA,", ",con2,",(length(",fieldA,")))) where ", @transactionTable ,"Id in (select id from ",@transactionTable,
" where configId = ",configId," and ", @batchIdType," = ",batchId," and statusId not in (",@finalStatusIds,"));");

PREPARE stmt from @stmt;
EXECUTE stmt;-- execute

-- we check pass /clear
if (passClear = 2) THEN
BEGIN
-- not sure how to pass clear this
END;
END IF;
-- see if we want to return something
select '';

end proc_main$$
DELIMITER ;

/** grace 03232014 05:57 AM **/
drop PROCEDURE setSqlForConfig;
DELIMITER $$
CREATE DEFINER=`root`@`localhost` PROCEDURE `setSqlForConfig`(in inConfigId int, in batchUploadId int)
proc_main:begin
drop TEMPORARY TABLE if exists temp1;
CREATE TEMPORARY TABLE temp1
as (select min(fieldNo) as fieldNo, saveToTableName, savetotablecol, configId, batchUploadId
from configurationFormFields where configId = inConfigId
and saveToTableName != ''
group by savetotablecol, saveToTableName);
SELECT  batchUploadId, saveToTableName, 
group_concat(distinct savetotablecol ORDER BY fieldNo SEPARATOR ',') as savetotablecol,
group_concat( concat('F',fieldNo) ORDER BY fieldNo SEPARATOR ',') as singleValueFields, 
group_concat( concat('strSplit(F',fieldNo, ', ''||^||'',@valPos)') ORDER BY fieldNo SEPARATOR ',') as splitFields, 
group_concat( concat('F',fieldNo, ' like ''%||^||%''') ORDER BY fieldNo SEPARATOR ' or ') as checkForDelim,
configId
FROM temp1 
where configId = inConfigId
GROUP BY saveToTableName
ORDER BY saveToTableName;
end proc_main$$
DELIMITER ;

/** grace 03232014 10:08 PM (received) **/
ALTER TABLE `universaltranslator`.`message_races` 
CHANGE COLUMN `white` `white` INT NULL DEFAULT NULL,
CHANGE COLUMN `black` `black` INT NULL DEFAULT NULL,
CHANGE COLUMN `am_indian_alaskan` `am_indian_alaskan` INT NULL DEFAULT NULL,
CHANGE COLUMN `asian` `asian` INT NULL DEFAULT NULL,
CHANGE COLUMN `hawaiian_pi` `hawaiian_pi` INT NULL DEFAULT NULL,
CHANGE COLUMN `notReported` `notReported` INT NULL DEFAULT NULL,
CHANGE COLUMN `moreThanOneRace` `moreThanOneRace` INT NULL DEFAULT NULL;
 
  
/** Grace 03272014 02:47PM **/
drop procedure setSqlForConfig;

DELIMITER $$
CREATE DEFINER=`root`@`localhost` PROCEDURE `setSqlForConfig`(in inConfigId int, in batchUploadId int)
proc_main:begin
drop TEMPORARY TABLE if exists temp1;
CREATE TEMPORARY TABLE temp1
as (select min(fieldNo) as fieldNo, saveToTableName, savetotablecol, configId, batchUploadId
from configurationFormFields where configId = inConfigId
and saveToTableName != ''
group by savetotablecol, saveToTableName);
SELECT  batchUploadId, saveToTableName, 
group_concat(distinct savetotablecol ORDER BY fieldNo SEPARATOR ',') as savetotablecol,
group_concat( concat('F',fieldNo) ORDER BY fieldNo SEPARATOR ',') as singleValueFields, 
group_concat( concat('strSplit(F',fieldNo, ', ''^^^^^'',@valPos)') ORDER BY fieldNo SEPARATOR ',') as splitFields, 
group_concat( concat('F',fieldNo, ' like ''%^^^^^%''') ORDER BY fieldNo SEPARATOR ' or ') as checkForDelim,
configId
FROM temp1 
where configId = inConfigId
GROUP BY saveToTableName
ORDER BY saveToTableName;
end proc_main$$
DELIMITER ;


/** 04022014 grace 10:30AM **/
INSERT INTO `universaltranslator`.`lu_ErrorCodes` (`displayText`, `description`) VALUES ('Submitter is not a valid sender', 'User is not a valid sender');

/** 04042014 Grace 11:16AM **/
CREATE TABLE `userActivity` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `userId` int(11) NOT NULL,
  `accessMethod` varchar(10) DEFAULT NULL,
  `pageAccess` varchar(255) DEFAULT NULL,
  `activity` varchar(45) DEFAULT NULL,
  `activityDesc` text,
  `batchIds` varchar(255) DEFAULT NULL,
  `transactionInIds` varchar(255) DEFAULT NULL,
  `transactionTargetIds` varchar(255) DEFAULT NULL,
  `dateCreated` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;


/** Chad - 04072014 @ 12:42 PM **/
INSERT INTO `universalTranslator`.`lu_ProcessStatus` (`category`, `displayCode`, `displayText`, `status`, `isCustom`) VALUES ('transaction', 'DNP', 'Do Not Process', 1, 0);


/** grace 04092014 **/
ALTER TABLE `universaltranslator`.`userActivity` 
CHANGE COLUMN `batchIds` `batchId` INT NULL DEFAULT NULL ;

/** grace 04142014 **/
ALTER TABLE `universaltranslator`.`transactioninerrors` 
ADD INDEX `transInId` (`transactionInId` ASC);

