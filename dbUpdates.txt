/** grace 12.11.2013**/

ALTER TABLE `universalTranslator`.`transactionInRecords` 
ADD INDEX `tirFK_idx` (`transactionInId` ASC);
ALTER TABLE `universalTranslator`.`transactionInRecords` 
ADD CONSTRAINT `tirFK`
  FOREIGN KEY (`transactionInId`)
  REFERENCES `universalTranslator`.`transactionIn` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;

  ALTER TABLE `universalTranslator`.`transactionIn` 
ADD INDEX `uploadFK_idx` (`transactionUploadId` ASC);
ALTER TABLE `universalTranslator`.`transactionIn` 
ADD CONSTRAINT `uploadFK`
  FOREIGN KEY (`transactionUploadId`)
  REFERENCES `universalTranslator`.`transactionUploads` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
  
  
  ALTER TABLE `universalTranslator`.`transactionTarget` 
ADD INDEX `ttargetInFK_idx` (`transactionInId` ASC);
ALTER TABLE `universalTranslator`.`transactionTarget` 
ADD CONSTRAINT `ttargetInFK`
  FOREIGN KEY (`transactionInId`)
  REFERENCES `universalTranslator`.`transactionIn` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
  
  ALTER TABLE `universalTranslator`.`message_MedicalConditions` 
CHANGE COLUMN `conditionType` `conditionTypeId` INT(11) NULL DEFAULT NULL COMMENT 'this will define if it is a problem in ccr - values could be diagnosis' ;
  
  ALTER TABLE `universalTranslator`.`message_MedicalConditions` 
ADD INDEX `mcTypeFK_idx` (`conditionTypeId` ASC);
ALTER TABLE `universalTranslator`.`message_MedicalConditions` 
ADD CONSTRAINT `mcTypeFK`
  FOREIGN KEY (`conditionTypeId`)
  REFERENCES `universalTranslator`.`message_MedicalConditions` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
  
  
  ALTER TABLE `universalTranslator`.`message_FamMemMedicalConditions` 
DROP FOREIGN KEY `fmmcConditionType`;
ALTER TABLE `universalTranslator`.`message_FamMemMedicalConditions` 
CHANGE COLUMN `conditionType` `conditionTypeId` INT(11) NULL DEFAULT NULL COMMENT 'Id from lu_MedicalConditonTypes' ;
ALTER TABLE `universalTranslator`.`message_FamMemMedicalConditions` 
ADD CONSTRAINT `fmmcConditionType`
  FOREIGN KEY (`conditionTypeId`)
  REFERENCES `universalTranslator`.`lu_MedicalConditionTypes` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
  
  /**transport method missing key to rel_configurationTranslations**/
  ALTER TABLE `universalTranslator`.`rel_configurationDataTranslations` 
ADD INDEX `fkTransportMethod_idx` (`transportMethod` ASC);
ALTER TABLE `universalTranslator`.`rel_configurationDataTranslations` 
ADD CONSTRAINT `fkTransportMethod`
  FOREIGN KEY (`transportMethod`)
  REFERENCES `universalTranslator`.`ref_transportMethods` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
  
  /**file type**/
  ALTER TABLE `universalTranslator`.`configurationTransportDetails` 
ADD CONSTRAINT `fkFileType`
  FOREIGN KEY (`fileType`)
  REFERENCES `universalTranslator`.`ref_fileTypes` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
  
  /**transport method**/
  ALTER TABLE `universalTranslator`.`configurationTransportDetails` 
ADD CONSTRAINT `fkTransport`
  FOREIGN KEY (`transportMethod`)
  REFERENCES `universalTranslator`.`ref_transportMethods` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
  
  
  /**validation type **/
  ALTER TABLE `universalTranslator`.`configurationFormFields` 
ADD INDEX `fkValidationType_idx` (`validationType` ASC);
ALTER TABLE `universalTranslator`.`configurationFormFields` 
ADD CONSTRAINT `fkValidationType`
  FOREIGN KEY (`validationType`)
  REFERENCES `universalTranslator`.`ref_validationTypes` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
  
  
  